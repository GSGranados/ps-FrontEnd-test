!function(){let n=[];const s=document.querySelector(".product"),t=document.querySelector(".modal"),e=document.querySelector(".overlay"),a=document.querySelector(".header__nav-menu"),o=document.querySelector(".mobile__list");function d(){e.classList.toggle("hidden"),t.classList.toggle("hidden"),t.innerHTML=""}document.addEventListener("DOMContentLoaded",(async function(){const t=await fetch("backend/tours.json",{method:"GET",headers:{Accept:"application/json"}}),e=await t.json();n=e;const a=n.map(((n,s)=>{return`<div class="product__card" data-product="${e=s}">\n      <div class="product__cta">\n        <span class="product__price"\n          >from <strong class="high">&#36;${(t=n).Price}</strong></span\n        >\n        <span class="product__deal"\n          >you save <strong class="deal-high">10%</strong></span\n        >\n        <a href="#" title="${t.TourName}" class="product__btn">Book it!</a>\n      </div>\n      <figure class="product__shape">\n        <img\n          class="product__img"\n          src="${t.Photo}"\n          alt="${t.TourName}"\n        />\n        <figcaption class="product__caption">More Info</figcaption>\n      </figure>\n      ${0===e||2===e?'<p class="product__hot">\n          Hot <br />\n          <strong class="hot-high">deal</strong>\n      </p>':""}\n      <div class="product__details">\n        <p class="product__title">${t.TourName}</p>\n        <p class="product__date">Daily from ${t.schedule.from} to ${t.schedule.to}</p>\n      </div>\n    </div>`;var t,e})).join("");s.insertAdjacentHTML("afterbegin",a)})),document.addEventListener("keydown",(n=>{"Escape"!==n.key||t.classList.contains("hidden")||d()})),s.addEventListener("click",(async function(s){s.preventDefault();const a=s.target.closest(".product__btn");if(!a)return;const o=a.closest(".product__card").getAttribute("data-product"),i=n.find(((n,s)=>s===+o));e.classList.toggle("hidden"),t.classList.toggle("hidden");const l=await(c=i,`\n      <div class="modal__content">\n      <div class="modal__main">\n        <img src="${c.Photo}" alt="${c.TourName}" class="modal__img" />\n        <h2 class="modal__title">${c.TourName}</h2>\n        <span class="modal__price">from &#36;${c.Price}</span>\n      </div>\n      <div class="modal__details">\n        <button class="modal__close">&times;</button>\n        <h2\n          class="heading-secondary u-margin-bottom-small heading-secondary--modal"\n        >\n          Tour Highlights\n        </h2>\n        <p class="modal__description u-margin-bottom-small">\n        ${c.Description}\n        </p>\n        <form class="modal__form">\n          <div class="modal__form-container">\n            <div class="modal__group">\n              <input\n                class="modal__input"\n                type="number"\n                name="passengers"\n                id="passengers"\n                placeholder="passengers"\n              />\n              <label class="modal__label" for="passengers">Passengers</label>\n            </div>\n            <div class="modal__group">\n              <input\n                class="modal__input"\n                type="number"\n                name="days"\n                id="days"\n                placeholder="Tour days"\n              />\n              <label class="modal__label" for="days">Tour Days</label>\n            </div>\n          </div>\n          <div class="modal__group">\n            <input class="modal__input" type="date" name="date" id="date" />\n          </div>\n          <button class="modal__button">Next Steps &rarr;</button>\n        </form>\n      </div>\n    </div>\n  `);var c;t.insertAdjacentHTML("afterbegin",l);document.querySelector(".modal__close").addEventListener("click",d)})),e.addEventListener("click",d),a.addEventListener("click",(function(){if("1"===o.style.opacity||"visible"===o.style.visibility)return o.style.opacity="0",void(o.style.visibility="hidden");o.style.opacity="1",o.style.visibility="visible"}))}();
//# sourceMappingURL=index.HASH_REF_faeeb4e3b18cd12f470b0b16ab770a73.js.map
